https://github.com/Facepunch/garrysmod/blob/master/garrysmod/lua/weapons/weapon_medkit.lua

it's basically this, except with the swep slot changed to #4 for convenience, and also maybe in the future to buff or change shit around.
